local player = game.Players.LocalPlayer
local UserInputService = game:GetService("UserInputService")

local gui = Instance.new("ScreenGui")
gui.Name = "CustomGUI"
gui.ResetOnSpawn = false
gui.Parent = player:WaitForChild("PlayerGui")

local function applyPressEffect(button, baseColor)
	button.MouseButton1Down:Connect(function()
		button.BackgroundColor3 = Color3.new(baseColor.R * 0.85, baseColor.G * 0.85, baseColor.B * 0.85)
	end)
	button.MouseButton1Up:Connect(function()
		button.BackgroundColor3 = baseColor
	end)
	button.MouseLeave:Connect(function()
		button.BackgroundColor3 = baseColor
	end)
end

local function makeDraggable(guiElement)
	local dragging = false
	local dragInput, dragStart, startPos

	guiElement.InputBegan:Connect(function(input)
		if input.UserInputType == Enum.UserInputType.MouseButton1 then
			dragging = true
			dragStart = input.Position
			startPos = guiElement.Position

			input.Changed:Connect(function()
				if input.UserInputState == Enum.UserInputState.End then
					dragging = false
				end
			end)
		end
	end)

	guiElement.InputChanged:Connect(function(input)
		if input.UserInputType == Enum.UserInputType.MouseMovement then
			dragInput = input
		end
	end)

	UserInputService.InputChanged:Connect(function(input)
		if input == dragInput and dragging then
			local delta = input.Position - dragStart
			guiElement.Position = UDim2.new(
				startPos.X.Scale, startPos.X.Offset + delta.X,
				startPos.Y.Scale, startPos.Y.Offset + delta.Y
			)
		end
	end)
end

local menuBtn = Instance.new("TextButton")
menuBtn.Size = UDim2.new(0, 50, 0, 50)
menuBtn.Position = UDim2.new(0, 20, 0.5, -25)
menuBtn.BackgroundColor3 = Color3.fromRGB(255, 105, 180)
menuBtn.Text = "‚â°"
menuBtn.Font = Enum.Font.GothamBold
menuBtn.TextSize = 28
menuBtn.TextColor3 = Color3.new(1, 1, 1)
menuBtn.BorderSizePixel = 0
menuBtn.Parent = gui
Instance.new("UICorner", menuBtn).CornerRadius = UDim.new(0.5, 0)
makeDraggable(menuBtn)

local menu1 = Instance.new("Frame")
menu1.Size = UDim2.new(0, 280, 0, 270)
menu1.Position = UDim2.new(0, 90, 0.5, -135)
menu1.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
menu1.Visible = false
menu1.Parent = gui
Instance.new("UICorner", menu1).CornerRadius = UDim.new(0.1, 0)
makeDraggable(menu1)

local destinos = {
	{"Garden 1Ô∏è‚É£", CFrame.new(33.45, 3.00, -57.55)},
	{"Garden 2Ô∏è‚É£", CFrame.new(33.74, 3.00, 33.02)},
	{"Garden 3Ô∏è‚É£", CFrame.new(-100.58, 3.00, 30.12)},
	{"Garden 4Ô∏è‚É£", CFrame.new(-99.62, 3.00, -54.44)},
	{"Garden 5Ô∏è‚É£", CFrame.new(-236.85, 3.00, 26.37)},
	{"Garden 6Ô∏è‚É£", CFrame.new(-235.68, 3.00, -52.87)},
	{"Pets üêæ", CFrame.new(-278.00, 3.00, 7.58)},
	{"Gear üîß", CFrame.new(-283.71, 3.00, -13.79)},
	{"Cosmetics üé®", CFrame.new(-283.21, 3.00, -31.21)},
	{"Event üèüÔ∏è", CFrame.new(-104.59, 11.89, -7.05)}
}

for i, info in ipairs(destinos) do
	local btn = Instance.new("TextButton")
	btn.Size = UDim2.new(0, 120, 0, 35)
	btn.Position = UDim2.new(0, (i <= 5 and 10 or 150), 0, 25 + ((i - 1) % 5) * 42)
	local color = Color3.fromRGB(255, 105, 180)
	btn.BackgroundColor3 = color
	btn.TextColor3 = Color3.new(1, 1, 1)
	btn.Font = Enum.Font.GothamBold
	btn.TextSize = 13
	btn.Text = info[1]
	btn.BorderSizePixel = 0
	btn.Parent = menu1
	Instance.new("UICorner", btn).CornerRadius = UDim.new(0.3, 0)
	applyPressEffect(btn, color)

	btn.MouseButton1Click:Connect(function()
		local char = player.Character
		if char and char:FindFirstChild("HumanoidRootPart") then
			char.HumanoidRootPart.CFrame = info[2]
		end
	end)
end

local menu2 = Instance.new("Frame")
menu2.Size = UDim2.new(0, 280, 0, 110)
menu2.Position = UDim2.new(0, 390, 0.5, -135)
menu2.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
menu2.Visible = false
menu2.Parent = gui
Instance.new("UICorner", menu2).CornerRadius = UDim.new(0.1, 0)
makeDraggable(menu2)

local remote = game:GetService("ReplicatedStorage"):WaitForChild("GameEvents"):WaitForChild("SummerHarvestRemoteEvent")

-- Submit All Summer Fruits button
local submitAllBtn = Instance.new("TextButton")
submitAllBtn.Size = UDim2.new(1, -20, 0, 35)
submitAllBtn.Position = UDim2.new(0, 10, 0, 12)
local btnColor = Color3.fromRGB(255, 150, 0)
submitAllBtn.BackgroundColor3 = btnColor
submitAllBtn.TextColor3 = Color3.new(1, 1, 1)
submitAllBtn.Font = Enum.Font.GothamBold
submitAllBtn.TextSize = 14
submitAllBtn.Text = "Submit All Summer Fruitsüå¥"
submitAllBtn.BorderSizePixel = 0
submitAllBtn.Parent = menu2
Instance.new("UICorner", submitAllBtn).CornerRadius = UDim.new(0.3, 0)
applyPressEffect(submitAllBtn, btnColor)

submitAllBtn.MouseButton1Click:Connect(function()
	if remote then
		remote:FireServer("SubmitAllPlants")
	else
		warn("No se encontr√≥ SummerHarvestRemoteEvent")
	end
end)

-- Honey Combpressor button (sin cambios)
local honeyBtn = Instance.new("TextButton")
honeyBtn.Size = UDim2.new(1, -20, 0, 35)
honeyBtn.Position = UDim2.new(0, 10, 0, 52)
local hColor = Color3.fromRGB(255, 200, 0)
honeyBtn.BackgroundColor3 = hColor
honeyBtn.TextColor3 = Color3.new(1, 1, 1)
honeyBtn.Font = Enum.Font.GothamBold
honeyBtn.TextSize = 14
honeyBtn.Text = "üçØHoney Combpressor"
honeyBtn.BorderSizePixel = 0
honeyBtn.Parent = menu2
Instance.new("UICorner", honeyBtn).CornerRadius = UDim.new(0.3, 0)
applyPressEffect(honeyBtn, hColor)

honeyBtn.MouseButton1Click:Connect(function()
	-- Busca el primer ProximityPrompt con "Honey" en el nombre
	local prompt = nil
	for _, obj in ipairs(workspace:GetDescendants()) do
		if obj:IsA("ProximityPrompt") and string.find(obj.Name:lower(), "honey") then
			prompt = obj
			break
		end
	end

	if prompt then
		if typeof(fireproximityprompt) == "function" then
			fireproximityprompt(prompt)
		else
			warn("fireproximityprompt no disponible en este entorno.")
		end
	else
		warn("‚ùå No se encontr√≥ ning√∫n ProximityPrompt con 'Honey' en el nombre.")
	end
end)

local visible = false
menuBtn.MouseButton1Click:Connect(function()
	visible = not visible
	menu1.Visible = visible
	menu2.Visible = visible
end)
